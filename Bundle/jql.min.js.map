{
  "version": 3,
  "sources": ["../src/HTMLTags.js", "../src/DOMCleanup.js", "../src/DOM.js", "../src/JQLMethods.js", "../src/JQLLog.js", "../src/Popup.js", "../src/HandlerFactory.js", "../LifeCSS/index.js", "../src/JQLExtensionHelpers.js", "../index.js"],
  "sourcesContent": ["let allTags = await fetch(`../src/Resource/defaultTagPermissions.json`).then(r => r.json());\r\n\r\nexport default {\r\n  isAllowed(elem) {\r\n    const nodeName = elem?.nodeName.toLowerCase() || `none`;\r\n    const tag = allTags[nodeName];\r\n    return !!tag;\r\n  },\r\n  setTagPermission(tagName, allowed = false) {\r\n    tagName = tagName.toLowerCase();\r\n    if (rawTags[tagName]) { rawTags[tagName] = allowed; }\r\n  },\r\n};", "import { truncate2SingleStr, IS } from \"./JQLExtensionHelpers.js\";\r\nimport cleanupTagInfo from \"./HTMLTags.js\";\r\nconst ATTRS = await fetch(`../src/Resource/attributeStore.json`).then(r => r.json());\r\nlet logElementCreationErrors2Console = false;\r\nconst allowUnknownHtmlTags = {\r\n  on: () => cleanupTagInfo.lenient = true,\r\n  off: () => cleanupTagInfo.lenient = false,\r\n};\r\nconst attrRegExpStore = {\r\n  data: /data-[\\-\\w.\\p{L}]/ui, // data-* minimal 1 character after dash\r\n  validURL: /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i,\r\n  whiteSpace: /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g,\r\n  notAllowedValues: /javascript|injected|noreferrer|alert|DataURL/gi\r\n};\r\nconst logContingentErrors = elCreationInfo => {\r\n  if (logElementCreationErrors2Console && Object.keys(elCreationInfo.removed).length) {\r\n    const msgs = Object.entries(elCreationInfo.removed)\r\n      .reduce( (acc, [k, v]) => [...acc, `${k} => ${v}`], [])\r\n      .join(`\\\\000A`);\r\n    console.info(`JQL HTML creation errors:`);\r\n    console.info(msgs);\r\n  }\r\n};\r\nconst cleanupHtml = elem => {\r\n  const template = document.createElement(\"template\");\r\n  const elCreationInfo = {\r\n    rawHTML: elem.outerHTML,\r\n    removed: { },\r\n  }\r\n  template.innerHTML = `<div id=\"placeholder\">${elem.outerHTML}</div>`;\r\n  const el2Clean = template.content.querySelector(\"#placeholder\");\r\n  el2Clean.querySelectorAll(\"*\").forEach(child => {\r\n    const attrStore = IS(child, SVGElement) ? ATTRS.svg : ATTRS.html;\r\n    [...child.attributes]\r\n      .forEach(attr => {\r\n        const name = attr.name.trim().toLowerCase();\r\n        const value = attr.value.trim().toLowerCase().replace(attrRegExpStore.whiteSpace, ``);\r\n        const evilValue = name === \"href\"\r\n            ? !attrRegExpStore.validURL.test(value) : attrRegExpStore.notAllowedValues.test(value);\r\n        const evilAttrib = name.startsWith(`data`) ? !attrRegExpStore.data.test(name) : !!attrStore[name];\r\n\r\n        if (evilValue || evilAttrib) {\r\n          elCreationInfo.removed[`${attr.name}`] = `attribute/property (-value) not allowed, remove (value: ${\r\n            truncate2SingleStr(attr.value || `none`, 60)})`;\r\n          child.removeAttribute(attr.name);\r\n        }\r\n    });\r\n    const allowed = cleanupTagInfo.isAllowed(child);\r\n    if (!allowed) {\r\n      elCreationInfo.removed[`<${child.nodeName.toLowerCase()}>`] = `not allowed, not rendered (tag: ${\r\n        truncate2SingleStr(child.outerHTML, 60)})`;\r\n      child.remove();\r\n    }\r\n  });\r\n  logContingentErrors(elCreationInfo);\r\n  return el2Clean.children[0];\r\n};\r\nconst emphasize = str => `***${str}***`;\r\nconst getRestricted = emphasizeTag =>\r\n  Object.entries(cleanupTagInfo)\r\n    .reduce((acc, [key, value]) =>\r\n      !value.allowed &&\r\n      [...acc, (emphasizeTag && key === emphasizeTag ? emphasize(key) : key)] ||\r\n      acc, []);\r\nconst setTagPermission = cleanupTagInfo.setTagPermission;\r\nconst logElementCreationErrors = onOff => logElementCreationErrors2Console = onOff;\r\n\r\nexport { cleanupHtml, getRestricted, setTagPermission, allowUnknownHtmlTags, logElementCreationErrors, };", "import {\r\n  cleanupHtml,\r\n  getRestricted,\r\n  setTagPermission,\r\n  allowUnknownHtmlTags } from \"./DOMCleanup.js\";\r\nimport { truncateHtmlStr, IS } from \"./JQLExtensionHelpers.js\";\r\nconst insertPositions = {\r\n  BeforeBegin: \"beforebegin\",\r\n  AfterBegin: \"afterbegin\",\r\n  BeforeEnd: \"beforeend\",\r\n  AfterEnd: \"afterend\" };\r\nconst placeholderNode = document.createElement(\"div\");\r\nconst htmlToVirtualElement = htmlString => {\r\n  placeholderNode.innerHTML = htmlString.trim();\r\n  return placeholderNode.childNodes.length\r\n    ? cleanupHtml(placeholderNode)\r\n    : undefined;\r\n};\r\nconst element2DOM = (elem, root = document.body, position = insertPositions.BeforeEnd) => {\r\n  root = root.isJQL ? root.first() : root;\r\n  if (elem) {\r\n    if (IS(elem, HTMLElement)) {\r\n      return root.insertAdjacentElement(position, elem);\r\n    }\r\n\r\n    if (IS(elem, Comment, Text)) {\r\n      if (position === insertPositions.BeforeEnd) {\r\n        root.appendChild(elem);\r\n      }\r\n\r\n      if (position === insertPositions.AfterBegin) {\r\n        root.insertBefore(elem, root.firstElementChild);\r\n      }\r\n    }\r\n  }\r\n};\r\nconst createElementFromHtmlString = htmlStr => {\r\n  htmlStr = htmlStr.trim();\r\n\r\n  if (htmlStr.startsWith(`<!--`) && htmlStr.endsWith(`-->`)) {\r\n    return document.createComment(htmlStr.replace(/<!--|-->$/g, ''));\r\n  }\r\n\r\n  const nwElem = htmlToVirtualElement(htmlStr);\r\n\r\n  if (!nwElem.children.length) {\r\n      return createElementFromHtmlString(`<span data-jqlcreationerror=\"1\">${truncateHtmlStr(htmlStr, 60)}</span>`);\r\n  }\r\n\r\n  return nwElem.children[0];\r\n};\r\n\r\nexport {\r\n  getRestricted,\r\n  setTagPermission,\r\n  createElementFromHtmlString,\r\n  element2DOM,\r\n  cleanupHtml,\r\n  allowUnknownHtmlTags,\r\n  insertPositions,\r\n};", "import {createElementFromHtmlString, insertPositions} from \"./DOM.js\";\r\nimport {\r\n  IS,\r\n  hex2RGBA,\r\n  loop,\r\n  addHandlerId,\r\n  isVisible,\r\n  isNode,\r\n  randomString,\r\n  inject2DOMTree } from \"./JQLExtensionHelpers.js\";\r\nimport jql from \"../index.js\";\r\n\r\nconst empty = el => el && (el.textContent = \"\");\r\nconst compareCaseInsensitive = (key, compareTo) => key.toLowerCase().trim() === compareTo;\r\nconst setData = (el, keyValuePairs) => {\r\n  el && IS(keyValuePairs, Object) &&\r\n  Object.entries(keyValuePairs).forEach(([key, value]) => el.dataset[key] = value);\r\n};\r\n\r\nconst css = (el, keyOrKvPairs, value) => {\r\n  const { setStyle } = jql;\r\n  if (value && IS(keyOrKvPairs, String)) {\r\n    keyOrKvPairs = {[keyOrKvPairs]: value === \"-\" ? \"\" : value};\r\n  }\r\n\r\n  let nwClass = undefined;\r\n\r\n  if (keyOrKvPairs.className) {\r\n    nwClass = keyOrKvPairs.className;\r\n    delete keyOrKvPairs.className;\r\n  }\r\n\r\n  const classExists = ([...el.classList].find(c => c.startsWith(`JQLCreated`) || nwClass && c === nwClass));\r\n  nwClass = classExists || nwClass || `JQLCreated_${randomString.randomHtmlElementId(12)}`;\r\n  setStyle(`.${nwClass}`, keyOrKvPairs);\r\n  el.classList.add(nwClass);\r\n};\r\nconst assignAttrValues = (el, keyValuePairs) => {\r\n  el && Object.entries(keyValuePairs).forEach(([key, value]) => {\r\n    if (key.startsWith(`data`)) {\r\n      setData(el, {[key]: value});\r\n    }\r\n\r\n    if (compareCaseInsensitive(key, `class`)) {\r\n      value.split(/\\s+/).forEach(v => el.classList.add(`${v}`))\r\n    }\r\n\r\n    if (IS(value, String)) {\r\n      el[key] = value;\r\n    }\r\n  });\r\n};\r\nconst allMethods = {\r\n  straigthLoops: {\r\n    toggleClass: (el, className) => el.classList.toggle(className),\r\n    toggleStyleFragments: (el, keyValuePairs) =>\r\n      el && Object.entries(keyValuePairs).forEach(([key, value]) => {\r\n        if (IS(value, Function)) {\r\n          value = value(el);\r\n        }\r\n\r\n        if (/color/i.test(key)) {\r\n          value = value.startsWith(`#`)\r\n            ? hex2RGBA(value)\r\n            : value.replace(/(,|,\\s{2,})(\\w)/g, (...args) => `, ${args[2]}`);\r\n        }\r\n\r\n        el.style[key] = `${el.style[key]}` === `${value}` ? \"\" : value;\r\n      }),\r\n    removeAttr: (el, name) => el && el.removeAttribute(name),\r\n    toggleAttr: (el, name, value) =>\r\n      el && el.hasAttribute(name)\r\n        ? el.removeAttribute(name)\r\n        : el.setAttribute(name, value),\r\n    empty,\r\n    clear: empty,\r\n    replaceClass: (el, className, ...nwClassNames) => {\r\n      el.classList.remove(className);\r\n      nwClassNames.forEach(name => el.classList.add(name))\r\n    },\r\n    removeClass: (el, ...classNames) =>\r\n      classNames.forEach(cn => el.classList.remove(cn)),\r\n    addClass: (el, ...classNames) => el && classNames.forEach(cn => el.classList.add(cn)),\r\n    show: el => el.style.display = ``,\r\n    hide: el => el.style.display = `none`,\r\n    setData,\r\n    assignAttrValues,\r\n    attr(el, keyOrObj, value) {\r\n      if (!el) {\r\n        return true;\r\n      }\r\n\r\n      if (value !== undefined) {\r\n        keyOrObj = { [keyOrObj]: value };\r\n      }\r\n\r\n      if (!value && IS(keyOrObj, String)) {\r\n        return el.getAttribute(keyOrObj);\r\n      }\r\n\r\n      Object.entries(keyOrObj).forEach(([key, value]) => {\r\n        if (compareCaseInsensitive(key, `style`)) {\r\n          return css(el, value, undefined);\r\n        }\r\n\r\n        if (compareCaseInsensitive(key, `data`)) {\r\n          return setData(el, value);\r\n        }\r\n\r\n        if (IS(value, Object)) {\r\n          return assignAttrValues(el, value);\r\n        }\r\n\r\n        return el.setAttribute(key, value);\r\n      });\r\n    },\r\n    style: (el, keyOrKvPairs, value) => {\r\n      if (value && IS(keyOrKvPairs, String)) {\r\n        keyOrKvPairs = { [keyOrKvPairs]: value || `none` };\r\n      }\r\n\r\n      if (IS(keyOrKvPairs, Object)) {\r\n        Object.entries(keyOrKvPairs).forEach(([key, value]) => el.style[key] = value);\r\n      }\r\n    },\r\n    css,\r\n  },\r\n  instanceExtensions: {\r\n    text: (self, textValue, append) => {\r\n      if (self.isEmpty()) {\r\n        return self;\r\n      }\r\n\r\n      const cb = el => el.textContent = append ? el.textContent + textValue : textValue;\r\n\r\n      if (!textValue) {\r\n        return self.first().textContent;\r\n      }\r\n\r\n      return loop(self, cb);\r\n    },\r\n    each: (self, cb) => loop(self, cb),\r\n    remove: (self, selector) => {\r\n      const remover = el => el.remove();\r\n      if (selector) {\r\n        const selectedElements = self.find$(selector);\r\n        !selectedElements.isEmpty() && loop(selectedElements, remover);\r\n        return;\r\n      }\r\n      loop(self, remover);\r\n    },\r\n    computedStyle: (self, property) => self.first() && getComputedStyle(self.first())[property],\r\n    getData: (self, dataAttribute, valueWhenFalsy) => self.first() &&\r\n      self.first().dataset && self.first().dataset[dataAttribute] || valueWhenFalsy,\r\n    isEmpty: self => self.collection.length < 1,\r\n    is: (self, checkValue) => {\r\n      const firstElem = self.first();\r\n\r\n      if (!firstElem) {\r\n        return true;\r\n      }\r\n\r\n      switch (checkValue) {\r\n        case \":visible\": {\r\n          return isVisible(firstElem); // TODO\r\n        }\r\n        case \":hidden\":\r\n          return !isVisible(firstElem);\r\n        case \":disabled\":\r\n          return firstElem.getAttribute(\"readonly\") || firstElem.getAttribute(\"disabled\");\r\n        default:\r\n          return true;\r\n      }\r\n    },\r\n    hasClass: (self, ...classNames) => {\r\n      const firstElem = self.first();\r\n      return self.isEmpty() || !firstElem.classList.length\r\n        ? false : classNames.find(cn => firstElem.classList.contains(cn)) || false;\r\n    },\r\n    replace: (self, oldChild, newChild) => {\r\n      const firstElem = self.first();\r\n\r\n      if (newChild.isJQL) {\r\n        newChild = newChild.first();\r\n      }\r\n\r\n      if (firstElem && oldChild) {\r\n        oldChild = IS(oldChild, String)\r\n          ? firstElem.querySelector(oldChild)\r\n          : oldChild.isJQL\r\n            ? oldChild.first()\r\n            : oldChild;\r\n\r\n        if (oldChild && newChild) {\r\n          oldChild.replaceWith(newChild);\r\n        }\r\n      }\r\n\r\n      return self;\r\n    },\r\n    replaceMe: (self, newChild) => {\r\n      newChild = IS(newChild, HTMLElement) ? jql(newChild) : newChild;\r\n      self.parent().replace(self, newChild)\r\n      return newChild;\r\n    },\r\n    val: (self, newValue) => {\r\n      const firstElem = self.first();\r\n\r\n      if (!firstElem || !IS(firstElem, HTMLInputElement, HTMLSelectElement, HTMLTextAreaElement)) {\r\n        return self;\r\n      }\r\n\r\n      if (newValue === undefined) {\r\n        return firstElem.value;\r\n      }\r\n\r\n      firstElem.value = `${newValue}`.length < 1 ? \"\" : newValue;\r\n\r\n      return self;\r\n    },\r\n    parent: self => self.collection.length && self.first().parentNode &&\r\n      jql(self.first().parentNode) || self,\r\n    append: (self, ...elems2Append) => {\r\n      if (self.collection.length && elems2Append.length) {\r\n\r\n        for (let i = 0; i < elems2Append.length; i += 1) {\r\n          const elem = elems2Append[i];\r\n          if (IS(elem, String)) {\r\n            self.collection.forEach(el => el.appendChild(createElementFromHtmlString(elem)));\r\n            return self;\r\n          }\r\n\r\n          if (isNode(elems2Append[i])) {\r\n            self.collection.forEach(el =>\r\n              el.appendChild(is(elem, Comment) ? elem : elem.cloneNode(true)));\r\n            return self;\r\n          }\r\n\r\n          if (elems2Append[i].isJQL && elems2Append[i].collection.length) {\r\n            if (elems2Append[i].isVirtual) { elem.toDOM(); }\r\n            const elems = elem.collection;\r\n            elem.remove();\r\n            elems.forEach( e2a =>\r\n              self.collection.forEach( el =>\r\n                el.appendChild( IS(e2a, Comment) ? e2a : e2a.cloneNode(true) ) ) );\r\n          }\r\n        }\r\n      }\r\n\r\n      return self;\r\n    },\r\n    prepend: (self, ...elems2Prepend) => {\r\n      if (!self.isEmpty() && elems2Prepend) {\r\n\r\n        for (let i = 0; i < elems2Prepend.length; i += 1) {\r\n          const elem2Prepend = elems2Prepend[i];\r\n\r\n          if (IS(elem2Prepend, String)) {\r\n            self.collection.forEach(el =>\r\n              el.insertBefore(createElementFromHtmlString(elem2Prepend), el.firstChild))\r\n            return self;\r\n          }\r\n\r\n          if (isNode(elem2Prepend)) {\r\n            self.collection.forEach(el =>\r\n              el.insertBefore(\r\n                IS(elem2Prepend, Comment) ? elem2Prepend : elem2Prepend.cloneNode(true), el.firstChild));\r\n            return self;\r\n          }\r\n\r\n          if (elem2Prepend.isJQL && !elem2Prepend.isEmpty()) {\r\n            const elems = elem2Prepend.collection.slice();\r\n            elem2Prepend.remove();\r\n            elems.forEach(e2a =>\r\n              self.collection.forEach(el =>\r\n                el && el.insertBefore(IS(e2a, Comment) ? e2a : e2a.cloneNode(true), el.firstChild)));\r\n          }\r\n        }\r\n      }\r\n\r\n      return self;\r\n    },\r\n    appendTo: (self, self2AppendTo) => {\r\n      if (!self2AppendTo.isJQL) {\r\n        self2AppendTo = self.virtual(self2AppendTo);\r\n      }\r\n      return self2AppendTo.append(self);\r\n    },\r\n    prependTo: (self, self2PrependTo) => {\r\n      if (!self2PrependTo.isJQL) {\r\n        self2PrependTo = self.virtual(self2PrependTo);\r\n      }\r\n\r\n      return self2PrependTo.prepend(self);\r\n    },\r\n    single: (self, indexOrSelector = \"0\") => {\r\n      if (self.collection.length > 0) {\r\n        if (isNaN(+indexOrSelector) && self.find(indexOrSelector)) {\r\n          return self.find$(indexOrSelector);\r\n        }\r\n        const index = +indexOrSelector;\r\n        return index < self.collection.length\r\n          ? jql(self.collection[indexOrSelector])\r\n          : jql(self.collection.slice(-1));\r\n      } else {\r\n        return self;\r\n      }\r\n    },\r\n    toNodeList: self => {\r\n      const virtual = document.createElement(`div`);\r\n\r\n      for (let elem of self.collection) {\r\n        const nodeClone = document.importNode(elem, true);\r\n        nodeClone.removeAttribute(`id`);\r\n        virtual.append(nodeClone);\r\n      }\r\n\r\n      return virtual.childNodes;\r\n    },\r\n    duplicate: (self, toDOM = false) => {\r\n      const clonedCollection = self.toNodeList();\r\n      return toDOM ? jql(clonedCollection) : self.virtual(clonedCollection);\r\n    },\r\n    toDOM: (self, root = document.body, position = insertPositions.BeforeEnd) => {\r\n      if (self.isVirtual) {\r\n        self.isVirtual = false;\r\n        inject2DOMTree(self.collection, root, position);\r\n      }\r\n      return self;\r\n    },\r\n    first: (self, asself = false) => {\r\n      if (self.collection.length > 0) {\r\n        return asself\r\n          ? self.single()\r\n          : self.collection[0];\r\n      }\r\n      return undefined;\r\n    },\r\n    first$: (self, indexOrSelector) => self.single(indexOrSelector),\r\n    find: (self, selector) => self.first()?.querySelectorAll(selector) || [],\r\n    find$: (self, selector) => {\r\n      const found = self.collection.reduce((acc, el) =>\r\n        [...acc, [...el.querySelectorAll(selector)]], [])\r\n        .flat()\r\n        .filter(el => IS(el, HTMLElement));\r\n      return found.length && jql(found[0]) || jql();\r\n    },\r\n    prop: (self, property, value) => {\r\n      if (!value) {\r\n        return self.collection.length ? self.first()[property] : self;\r\n      }\r\n\r\n      if (self.collection.length) {\r\n        return loop(self, el => el[property] = value);\r\n      }\r\n\r\n      return self;\r\n    },\r\n    on: (self, type, callback) => {\r\n      if (self.collection.length) {\r\n        const cssSelector = addHandlerId(self);\r\n        jql.handle(self, type, cssSelector, callback);\r\n      }\r\n\r\n      return self;\r\n    },\r\n\r\n    html: (self, htmlValue, append) => {\r\n      if (htmlValue === undefined) {\r\n        return self.first()?.innerHTML;\r\n      }\r\n\r\n      if (!self.isEmpty()) {\r\n        const nwElement = htmlValue.isJQL\r\n          ? htmlValue.first() : createElementFromHtmlString(`<div>${htmlValue}</div>`);\r\n\r\n        if (!IS(nwElement, Comment)) {\r\n          const cb = el => el.innerHTML = append ? el.innerHTML + nwElement.innerHTML : nwElement.innerHTML;\r\n          return loop(self, cb);\r\n        }\r\n      }\r\n\r\n      return self;\r\n    },\r\n    outerHtml: self => (self.first() || {outerHTML: undefined}).outerHTML,\r\n    htmlFor: (self, forQuery, htmlString = \"\", append = false) => {\r\n      if (forQuery && self.collection.length) {\r\n        const el2Change = self.find$(forQuery);\r\n        if (!el2Change) {\r\n          return self;\r\n        }\r\n\r\n        if (`{htmlValue}`.trim().length < 1) {\r\n          el2Change.textContent = \"\";\r\n          return self;\r\n        }\r\n\r\n        const nwElement = createElementFromHtmlString(`<div>${htmlString}</div>`);\r\n        nwElement && el2Change.html(nwElement.innerHTML, append);\r\n      }\r\n      return self;\r\n    },\r\n    dimensions: self => self.first()?.getBoundingClientRect(),\r\n    delegate: (self, type, cssSelector, ...callbacks) => {\r\n      callbacks.forEach(callback => jql.handle(self, type, cssSelector, callback));\r\n      return self;\r\n    },\r\n    ON: (self, type, ...callbacks) => {\r\n      if (self.collection.length) {\r\n        callbacks.forEach(cb => self.on(type, cb));\r\n      }\r\n\r\n      return self;\r\n    },\r\n    trigger: (self, evtType, SpecifiedEvent = Event, options = {}) => {\r\n      if (self.collection.length) {\r\n        const evObj = new SpecifiedEvent( evtType, { ...options, bubbles: options.bubbles??true} );\r\n        for( let elem of self.collection ) { elem.dispatchEvent(evObj); }\r\n      }\r\n      return self;\r\n    },\r\n  },\r\n};\r\nexport default allMethods;", "import jql from \"../index.js\";\r\nimport {createElementFromHtmlString, element2DOM, insertPositions} from \"./DOM.js\";\r\nimport {IS, time, isVisible} from \"./JQLExtensionHelpers.js\";\r\nlet logStyling = await fetch(`../src/Resource/defaultLogStyling.txt`).then(r => r.text()).then(r => r.split(`~RULE~`));\r\nconst debugLog = {\r\n  get isOn() { return useLogging; },\r\n  isVisible: () => isVisible(logBox()),\r\n  on() {\r\n    useLogging = true;\r\n    if (!log2Console) {\r\n      const box = logBox() || createLogElement();\r\n      box?.parentNode[\"classList\"].add(`visible`);\r\n    }\r\n    Log(`Logging started (to ${log2Console ? `console` : `document`})`);\r\n  },\r\n  off() {\r\n    if (logBox()) {\r\n      Log(`Logging stopped`);\r\n      logBox()?.parentNode.classList.remove(`visible`);\r\n    }\r\n    useLogging = false;\r\n  },\r\n  toConsole(console = false) {\r\n    log2Console = console;\r\n    useLogging = console;\r\n    console && document.querySelector(`#logBox`)?.remove();\r\n  },\r\n  remove: () => {\r\n    useLogging = false;\r\n    document.querySelector(`#logBox`).remove();\r\n  },\r\n  hide: () => logBox()?.parentNode.classList.remove(`visible`),\r\n  show: () => logBox()?.parentNode.classList.add(`visible`),\r\n  reversed(reverse = true) {\r\n    reverseLogging = reverse;\r\n    Log(`Reverse logging reset: now logging ${\r\n      reverse ? `bottom to top (latest first)` : `top to bottom (latest last)`}`);\r\n  },\r\n  clear() {\r\n    const box = logBox();\r\n    box && (box.textContent = ``);\r\n    Log(`Cleared`);\r\n  }\r\n};\r\nlet logSystem = false;\r\nlet useLogging = false;\r\nlet log2Console = false;\r\nlet reverseLogging = true;\r\nlet logBox = () => document.querySelector(`#jql_logger`);\r\nlet useHtml = true;\r\nconst createLogElement = () => {\r\n  if (logStyling) {\r\n    setStyling4Log(jql.createStyle(`JQLLogCSS`));\r\n  }\r\n  const jql_logger_element_name = useHtml ? `div` : `pre`;\r\n  const loggingFieldSet = `<div id=\"logBox\"><div class=\"legend\"><div></div></div><${\r\n    jql_logger_element_name} id=\"jql_logger\"></${jql_logger_element_name}></div>`;\r\n  element2DOM(createElementFromHtmlString(loggingFieldSet), undefined, insertPositions.AfterBegin);\r\n  return document.querySelector(`#jql_logger`);\r\n};\r\nconst decodeForConsole = something => IS(something, String) &&\r\n  Object.assign(document.createElement(`textarea`), {innerHTML: something}).textContent ||\r\n  something;\r\nconst Log = (...args) => {\r\n    if (!useLogging) { return; }\r\n    if (!log2Console && !logBox()) {\r\n      createLogElement();\r\n    }\r\n    const logLine = arg => `${IS(arg, Object) ? JSON.stringify(arg, null, 2) : arg}\\n`;\r\n    args.forEach( arg => log2Console\r\n      ? console.log(decodeForConsole(arg))\r\n      : logBox().insertAdjacentHTML(\r\n          reverseLogging ? `afterbegin` : `beforeend`,\r\n          `${time()} ${logLine(arg.replace(/\\n/g, `<br>`))}`)\r\n    );\r\n};\r\nconst setSystemLogActiveState = tf => logSystem = tf;\r\nconst systemLog = (...logTxt) => logSystem && Log(...logTxt);\r\n\r\nfunction setStyling4Log(setStyle) {\r\n  logStyling?.forEach(selector => setStyle(selector));\r\n  logStyling = undefined;\r\n}\r\n\r\n\r\nexport { Log, debugLog, setSystemLogActiveState, systemLog };", "import {IS} from \"./JQLExtensionHelpers.js\";\n\nexport default popupFactory;\nlet popupStyling = await fetch(`../src/Resource/defaultPopupStyling.txt`).then(r => r.text()).then(r => r.split(`~RULE~`));\nfunction popupFactory($) {\n  const wrappedBody = $(document.body);\n  const setStyle = $.createStyle(`JQLPopupCSS`);\n  initStyling(setStyle);\n  let savedTimer, savedCallback;\n  const clickOrTouch =  \"ontouchstart\" in document.documentElement ? \"touchend\" : \"click\";\n  $.delegate( clickOrTouch, `#closer, .between`,  remove );\n  const stillOpen = () => {\n    endTimer();\n    modalWarner.hasClass(`active`) && modalWarner.removeClass(`active`);\n    modalWarner.addClass(`active`);\n    savedTimer = setTimeout(() => modalWarner.removeClass(`active`), 2500);\n    return true;\n  }\n  const currentModalState = (() =>{\n    let currentPopupIsModal = false;\n    return {\n      set isModal(tf) { currentPopupIsModal = tf; },\n      get isModal() { return currentPopupIsModal; },\n      get isModalActive() { return currentPopupIsModal && popupBox.hasClass(`active`) && stillOpen() },\n    };\n  })();\n  const createElements = _ => {\n    const popupBox = $(`<div class=\"popupContainer\">`)\n      .append( $(`<span id=\"closer\" class=\"closeHandleIcon\"></span>`)\n        .prop(`title`, `Click here or anywhere outside the box to close`))\n      .append(`<div class=\"popupBox\"><div id=\"modalWarning\"></div><div data-modalcontent></div></div>`);\n    const closer = $(`#closer`);\n    const between = $(`<div class=\"between\"></div>`);\n    return [popupBox, between, closer, $(`#modalWarning`)];\n  };\n  const [popupBox, between, closer, modalWarner] = createElements();\n  const deActivate = () => {\n    $(`.between`).removeClass(`active`).style({top: 0});\n    $(`#closer, .popupContainer, #modalWarning`).removeClass(`active`);\n    $(`[data-modalcontent]`).empty();\n  };\n  const activate = (theBox, closeHndl) => {\n    $(`.between, .popupContainer`).addClass(`active`);\n    popupBox.style( { height: `auto`, width: `auto` } );\n    between.style( { top: `${scrollY}px` } );\n    wrappedBody.addClass(`popupActive`);\n\n    if (closeHndl) {\n      closeHndl.addClass(`active`);\n    }\n  };\n  const endTimer = () => savedTimer && clearTimeout(savedTimer);\n  const doCreate = (message, reallyModal, callback) => {\n    currentModalState.isModal = reallyModal;\n    savedCallback = callback;\n\n    if (!message.isJQL && !IS(message, String)) {\n      return createTimed($(`<b style=\"color:red\">Popup not created: invalid input</b>`), 2);    }\n\n    endTimer();\n    $(`.popupBox > [data-modalcontent]`).empty().append( message.isJQL ? message : $(`<div>${message}</div>`) );\n    activate(popupBox, currentModalState.isModal ? undefined : closer);\n  }\n  const create = (message, reallyModal = false, callback = undefined) =>\n    !currentModalState.isModalActive && doCreate(message, reallyModal, callback);\n  const createTimed = (message, closeAfter = 2, callback = null ) => {\n    if (currentModalState.isModalActive) { return; }\n    deActivate();\n    create(message, false, callback);\n    const remover = callback ? () => remove(callback) : remove;\n    savedTimer = setTimeout(remover, closeAfter * 1000);\n  };\n  function remove(evtOrCallback) {\n    endTimer();\n\n    if (currentModalState.isModalActive) { return; }\n\n    const callback = IS(evtOrCallback, Function) ? evtOrCallback : savedCallback;\n\n    if (IS(callback, Function)) {\n      savedCallback = undefined;\n      return callback();\n    }\n\n    deActivate();\n    const time2Wait = parseFloat(popupBox.computedStyle(`transitionDuration`)) * 1000;\n    savedTimer = setTimeout(() => wrappedBody.removeClass(`popupActive`), time2Wait);\n  }\n  const removeModal = callback => {\n    currentModalState.isModal = false;\n    remove(callback);\n  };\n\n  return {\n    create,\n    createTimed,\n    remove,\n    removeModal,\n  };\n}\n\nfunction initStyling(setStyle) {\n  popupStyling.forEach(declaration => setStyle(declaration));\n  popupStyling = undefined;\n}", "let handlers = {};\r\nexport default $ => {\r\n  const metaHandler = evt => handlers[evt.type].forEach(handler => handler(evt));\r\n\r\n  const createHandlerForHID = (HID, callback) => {\r\n    return evt => {\r\n      const target = evt.target.closest(HID);\r\n      return target && callback(evt, $(target));\r\n    };\r\n  };\r\n\r\n  const addListenerIfNotExisting = type =>\r\n    !Object.keys(handlers).find(registeredType => registeredType === type) && document.addEventListener(type, metaHandler);\r\n\r\n  return (extCollection, type, HIDselector, callback) => {\r\n    addListenerIfNotExisting(type);\r\n    const fn = !HIDselector ? callback : createHandlerForHID(HIDselector, callback);\r\n    handlers = handlers[type]\r\n      ? {...handlers, [type]: handlers[type].concat(fn)}\r\n      : {...handlers, [type]: [fn]};\r\n  };\r\n}", "export default LifeStyleFactory;\r\n\r\nfunction LifeStyleFactory({styleSheet, createWithId}) {\r\n  const {cssRuleFromText, checkAtRules, toDashedNotation, IS, shortenRule, consider,\r\n    ruleExists, checkParams, atMedia2String, sheet} = getHelpers({styleSheet, createWithId});\r\n\r\n  const setRule4Selector = (rule, properties) => Object.entries(properties)\r\n    .forEach( ([prop, value]) => rule.style.setProperty(toDashedNotation(prop), value));\r\n\r\n  const setRules = (selector, styleRules, sheetOrMediaRules = sheet) => {\r\n    if (!IS(selector, String) || !selector.trim().length || /[;,]$/g.test(selector.trim())) {\r\n      return console.error(`StylingFactory instance (setRules): [${\r\n        selector || `[no selector given]` }] is not a valid selector`);\r\n    }\r\n\r\n    const exists = ruleExists(selector, true);\r\n    const rule4Selector = exists\r\n      || sheetOrMediaRules.cssRules[sheetOrMediaRules.insertRule(`${selector} {}`,\r\n        sheetOrMediaRules.cssRules.length || 0)];\r\n    return consider( () => setRule4Selector(rule4Selector, styleRules), selector, exists );\r\n  };\r\n\r\n  const doParse = cssDeclarationString => {\r\n    const rule = cssDeclarationString.trim().split(/{/, 2);\r\n    const selector = rule.shift().trim();\r\n    if (!IS(selector, String) || !selector.trim()) {\r\n      return console.error(`StylingFactory instance (doParse): no (valid) selector could be extracted from rule ${\r\n        shortenRule(cssDeclarationString)}`);\r\n    }\r\n    const cssRules =  cssRuleFromText(rule);\r\n    return setRules(selector, cssRules);\r\n  };\r\n\r\n  const styleFromString = cssDeclarationString => {\r\n    const checkAts = checkAtRules(cssDeclarationString);\r\n    return checkAts.done ? checkAts.existing : doParse(cssDeclarationString);\r\n  }\r\n\r\n  const styleFromObject = (selector, rulesObj) => {\r\n    if (selector.trim().startsWith(`@media`)) {\r\n      return styleFromString(atMedia2String(selector, rulesObj));\r\n    }\r\n    return setRules(selector, rulesObj);\r\n  };\r\n\r\n  return (cssBlockOrSelector, rulesObj = {}) =>\r\n    checkParams(cssBlockOrSelector, rulesObj) && (\r\n      Object.keys(rulesObj).length ?\r\n        styleFromObject(cssBlockOrSelector, rulesObj) :\r\n        styleFromString(cssBlockOrSelector) );\r\n}\r\n\r\nfunction getHelpers({styleSheet, createWithId}) {\r\n  const notification = `Note: The rule or some of its properties may not be supported by your browser (yet)`;\r\n\r\n  const escape4RegExp = str => str.replace(/([*\\[\\]()-+{}.$?\\\\])/g, '\\\\$1');\r\n\r\n  const createSheet = id => document.head.insertAdjacentElement(`beforeend`,\r\n    Object.assign( document.createElement(`style`), { id, type: `text/css` } )).sheet;\r\n\r\n  styleSheet = createWithId ? createSheet(createWithId) : styleSheet;\r\n\r\n  const createRE = (regexStr, ...args) => {\r\n    const flags = args.length && Array.isArray(args.slice(-1)) ? args.pop().join(``) : ``;\r\n\r\n    return new RegExp(\r\n      (args.length &&\r\n        regexStr.raw.reduce( (a, v, i ) => a.concat(args[i-1] || ``).concat(v), ``) ||\r\n        regexStr.raw.join(``))\r\n        .split(`\\n`)\r\n        .map( line => line.replace(/\\s|\\/\\/.*$/g, ``).trim().replace(/(@s!)/g, ` `) )\r\n        .join(``), flags);\r\n  };\r\n\r\n  const ruleExists = (ruleFragOrSelector, isSelector) => [...styleSheet.rules].find( r =>\r\n    isSelector ?\r\n      compareSelectors((r.selectorText || ``), ruleFragOrSelector) :\r\n      createRE`${escape4RegExp(ruleFragOrSelector)}${[...`gim`]}`.test(r.cssText))\r\n\r\n  const checkAtRules = (cssDeclarationString) =>\r\n    /@import|@charset|@font-face/i.test(cssDeclarationString) ?\r\n      { existing: tryParse(cssDeclarationString, 0), done: true } :\r\n      atRulesRE.test(cssDeclarationString) ?\r\n        { ok: tryParse(cssDeclarationString, styleSheet.cssRules.length), done: true } :\r\n        { ok: false, done: false };\r\n\r\n  const ISOneOf = (obj, ...params) => !!params.find( param => IS(obj, param) );\r\n  const IS = (obj, ...shouldBe) => {\r\n    if (shouldBe.length > 1) {\r\n      return ISOneOf(obj, ...shouldBe);\r\n    }\r\n    shouldBe = shouldBe.shift();\r\n    const invalid = `Invalid parameter(s)`;\r\n    const self = obj === 0 ? Number : obj === `` ? String :\r\n      !obj ? {name: invalid} :\r\n        Object.getPrototypeOf(obj)?.constructor;\r\n    return shouldBe ? shouldBe === self?.__proto__ || shouldBe === self :\r\n      self?.name ?? invalid;\r\n  };\r\n\r\n  const atRulesRE = createRE`@keyframes | @font-feature-values | @font-palette-values \r\n    | @layer | @namespace | @page | @counter-style | @container | @media ${[`i`]}`;\r\n\r\n  const cssRuleFromText = rule =>\r\n    rule[0]\r\n      .trim()\r\n      .replace(/[}{]/, ``)\r\n      .split(`\\n`).map(r => r.trim())\r\n      .filter(v => v).reduce( (acc, v) => {\r\n      const [key, value] = [\r\n        v.slice(0, v.indexOf(`:`)).trim(),\r\n        v.slice(v.indexOf(`:`) + 1).trim().replace(/;$|;.+(?=\\/*).+\\/$/, ``)];\r\n      return key && value ? {...acc, [key]: value} : acc; }, {} );\r\n\r\n  const toDashedNotation = str2Convert =>\r\n    str2Convert.replace(/[A-Z]/g, a => `-${a.toLowerCase()}`).replace(/[^--]^-|-$/, ``);\r\n\r\n  const compareSelectors = (s1, s2) => s1?.replace(`::`, `:`) === s2?.replace(`::`, `:`);\r\n\r\n  const checkParams = (cssBlockOrSelector, rulesObj) =>\r\n    cssBlockOrSelector\r\n    && IS(cssBlockOrSelector, String)\r\n    && cssBlockOrSelector.trim().length\r\n    && IS(rulesObj, Object) ||  (console.error(`StylingFactory instance called with invalid parameters`), false);\r\n\r\n  const shortenRule = rule => {\r\n    const shortRule = (rule || `NO RULE`).trim().slice(0, 50).replace(/\\n/g, `\\\\n`).replace(/\\s{2,}/g, ` `);\r\n    return rule.length > shortRule.length ? `${shortRule.trim()}...truncated`  : shortRule;\r\n  }\r\n\r\n  const tryParse = cssDeclarationString => {\r\n    cssDeclarationString = cssDeclarationString.trim();\r\n    const exists = !!ruleExists(cssDeclarationString.slice(0, cssDeclarationString.indexOf(`{`)));\r\n    try {\r\n      return (styleSheet.insertRule(`${cssDeclarationString}`, styleSheet.cssRules.length), exists);\r\n    } catch(err) {\r\n      return (console.error(`StylingFactory instance (tryParse) ${err.name} Error:\\n${\r\n        err.message}\\nRule: ${\r\n        shortenRule(cssDeclarationString)}\\n${\r\n        notification}`),\r\n        exists);\r\n    }\r\n  };\r\n\r\n  const consider = (fn, rule, existing) => {\r\n    try {\r\n      return (fn(), existing);\r\n    } catch(err) {\r\n      return (console.error(`StylingFactory instance (tryAddOrModify) ${err.name} Error:\\n${\r\n        err.message}\\nRule: ${shortenRule(rule)}\\n${\r\n        notification}`),\r\n        existing);\r\n    }\r\n  }\r\n\r\n  const stringifyMediaRule = mediaObj => Object.entries(mediaObj)\r\n    .map( ([key, value]) => `${key}: ${value.trim()}`).join(`;\\n`);\r\n\r\n  const atMedia2String = (selector, rulesObj) => `${selector.trim()} ${\r\n    Object.entries(rulesObj).map( ( [ selectr, rule] ) =>\r\n      `${selectr}: { ${stringifyMediaRule(rule) }` ) }` ;\r\n\r\n  return {\r\n    sheet: styleSheet,\r\n    cssRuleFromText, checkAtRules, ruleExists, atMedia2String,\r\n    toDashedNotation, checkParams, tryParse, consider, IS, shortenRule};\r\n}", "import {  createElementFromHtmlString, element2DOM, insertPositions } from \"./DOM.js\";\r\nimport allMethods from \"./JQLMethods.js\";\r\nimport { debugLog, Log, setSystemLogActiveState, systemLog } from \"./JQLLog.js\";\r\nimport popupFactory from \"./Popup.js\";\r\nimport HandleFactory from \"./HandlerFactory.js\";\r\nimport styleFactory from \"../LifeCSS/index.js\";\r\nconst exts = allMethods.instanceExtensions;\r\nconst loops = allMethods.straigthLoops;\r\nconst pad0 = (nr, n=2) => `${nr}`.padStart(n, `0`);\r\nconst ISOneOf = (obj, ...params) => !!params.find( param => IS(obj, param) );\r\nconst IS = (obj, ...shouldBe) => {\r\n  if (shouldBe.length > 1) { return ISOneOf(obj, ...shouldBe); }\r\n  shouldBe = shouldBe.shift();\r\n  const invalid = `Invalid parameter(s)`;\r\n  const self = obj === 0 ? Number : obj === `` ? String :\r\n    !obj ? {name: invalid} : Object.getPrototypeOf(obj)?.constructor;\r\n  return shouldBe ? shouldBe === self?.__proto__ || shouldBe === self : self?.name ?? invalid;\r\n};\r\nconst isCommentOrTextNode = elem => IS(elem, Comment, Text);\r\nconst isNode = input => IS(input, Text, HTMLElement, Comment);\r\nconst isHtmlString = input => IS(input, String) && /^<|>$/.test(`${input}`.trim());\r\nconst isArrayOfHtmlStrings = input => IS(input, Array) && !input?.find(s => !isHtmlString(s));\r\nconst isArrayOfHtmlElements = input => IS(input, Array) && !input?.find(el => !isNode(el));\r\nconst ElemArray2HtmlString = elems => elems?.filter(el => el)\r\n  .reduce((acc, el) => acc.concat(isCommentOrTextNode(el) ? el.textContent : el.outerHTML), ``);\r\nconst input2Collection = input => !input ? []\r\n    : IS(input, NodeList) ? [...input]\r\n      : isNode(input) ? [input]\r\n        : isArrayOfHtmlElements(input) ? input\r\n          : input.isJQL ? input.collection : undefined;\r\nconst setCollectionFromCssSelector = (input, root, self) => {\r\n  const selectorRoot = root !== document.body &&\r\n      (IS(input, String) && input.toLowerCase() !== \"body\") ? root : document;\r\n  let errorStr = undefined;\r\n\r\n  try {\r\n    self.collection = [...selectorRoot.querySelectorAll(input)];\r\n  } catch (err) {\r\n    errorStr =  `Invalid CSS querySelector. [${input}]`;\r\n  }\r\n\r\n  return errorStr ??\r\n    `(JQL log) css querySelector [${input}], output ${self.collection.length} element(s)`;\r\n};\r\nconst proxify = instance => {\r\n  const runExt = method => (...args) =>\r\n    IS(method, Function) && method(proxify(instance), ...args);\r\n  const runLoop = method => (...args) =>\r\n    IS(method, Function) && loop(proxify(instance), el => method(el, ...args));\r\n  const method2RunTrial = name => loops[name] && runLoop(loops[name]) || exts[name] && runExt(exts[name]);\r\n  const proxyMe = { get: (obj, name) => method2RunTrial(name) ??\r\n      (IS(+name, Number) ? obj.collection?.[name] : obj[name]) };\r\n  return new Proxy( instance, proxyMe ); };\r\nconst randomString = (() => {\r\n  const characters = [...Array(26)]\r\n    .map((x, i) => String.fromCharCode(i + 65))\r\n    .concat([...Array(26)].map((x, i) => String.fromCharCode(i + 97)))\r\n    .concat([...Array(10)].map((x, i) => `${i}`));\r\n  const getCharacters = excludes =>\r\n    excludes && characters.filter(c => !~excludes.indexOf(c)) || characters;\r\n  const random = (len = 12, excludes = []) => {\r\n    const chars = getCharacters(excludes);\r\n    return [...Array(len)]\r\n      .map(() => chars[Math.floor(Math.random() * chars.length)])\r\n      .join(\"\");\r\n  };\r\n\r\n  return {\r\n    random,\r\n    randomHtmlElementId: (len = 12, excludes = []) => {\r\n      const charsWithoutNumbers = getCharacters(excludes.concat('0123456789'.split(\"\")));\r\n      const firstChr = charsWithoutNumbers[Math.floor(Math.random() * charsWithoutNumbers.length)];\r\n      return firstChr.concat(random(len - 1, excludes));\r\n    },\r\n  };\r\n})();\r\nconst toDashedNotation = str2Convert =>\r\n  str2Convert\r\n    .replace(/[A-Z]/g, a => `-${a.toLowerCase()}`)\r\n    .replace(/^-|-$/, ``);\r\nconst loop = (instance, callback) => {\r\n  const cleanCollection = instance.collection.filter(el => !isCommentOrTextNode(el))\r\n  for (let i = 0; i < cleanCollection.length; i += 1) {\r\n    callback(cleanCollection[i], i);\r\n  }\r\n  return instance;\r\n};\r\nconst inject2DOMTree = (collection = [], root = document.body, position = insertPositions.BeforeEnd) =>\r\n  collection.reduce((acc, elem) => {\r\n    const created = isNode(elem) && element2DOM(elem, root, position);\r\n    return created ? [...acc, created] : acc;\r\n  }, []);\r\nconst addHandlerId = instance => {\r\n  const handleId = instance.first().dataset.hid || randomString.random(8);\r\n  instance.setData({hid: handleId});\r\n  return `[data-hid=\"${handleId}\"]`;\r\n};\r\nconst isVisible = function (el) {\r\n  if (!el) { return false; }\r\n  const elStyle = el.style;\r\n  const computedStyle = getComputedStyle(el);\r\n  const invisible = [elStyle.visibility, computedStyle.visibility].includes(\"hidden\");\r\n  const noDisplay = [elStyle.display, computedStyle.display].includes(\"none\");\r\n  const offscreen = el.offsetTop < 0 ||\r\n    (el.offsetLeft + el.offsetWidth) < 0 ||\r\n    el.offsetLeft > document.body.offsetWidth;\r\n  const noOpacity = +computedStyle.opacity === 0 || +(elStyle.opacity || 1) === 0;\r\n  return !(offscreen || noOpacity || noDisplay || invisible);\r\n};\r\nconst getAllDataAttributeValues = el => {\r\n  const getKey = attr => attr.nodeName.slice(attr.nodeName.indexOf(`-`) + 1);\r\n  const data = [...el.attributes]\r\n    .filter(da => da.nodeName.startsWith(`data-`))\r\n    .reduce((acc, val) =>\r\n      ({...acc, [getKey(val)]: val.nodeValue}), {});\r\n  return Object.keys(data).length && data || undefined;\r\n};\r\n\r\nconst truncateHtmlStr = (str, maxLength = 120) => str.trim()\r\n  .slice(0, maxLength)\r\n  .replace(/>\\s+</g, `><`)\r\n  .replace(/</g, `&lt;`)\r\n  .replace(/\\s{2,}/g, ` `)\r\n  .replace(/\\n/g, `\\\\n`) + (str.length > maxLength ? `&hellip;` : ``).trim();\r\n\r\nconst truncate2SingleStr = (str, maxLength = 120) =>\r\n  truncateHtmlStr(str, maxLength).replace(/&lt;/g, `<`).replace(/&hellip;/g, `...`);\r\nconst time = () => ((d) =>\r\n  `[${pad0(d.getHours())}:${pad0(d.getMinutes())}:${\r\n    pad0(d.getSeconds())}.${pad0(d.getMilliseconds(), 3)}]`)(new Date());\r\nconst hex2Full = hex => {\r\n  hex = (hex.trim().startsWith(\"#\") ? hex.slice(1) : hex).trim();\r\n  return hex.length === 3 ? [...hex].map(v => v + v).join(\"\") : hex;\r\n};\r\nconst hex2RGBA = function (hex, opacity = 100) {\r\n  hex = hex2Full(hex.slice(1));\r\n  const op = opacity % 100 !== 0;\r\n  return `rgb${op ? \"a\" : \"\"}(${\r\n    parseInt(hex.slice(0, 2), 16)}, ${\r\n    parseInt(hex.slice(2, 4), 16)}, ${\r\n    parseInt(hex.slice(-2), 16)}${op ? `, ${opacity / 100}` : \"\"})`;\r\n};\r\nconst defaultStaticMethods = {\r\n  debugLog,\r\n  log: Log,\r\n  setSystemLogActiveState,\r\n  insertPositions,\r\n  text: (str, isComment = false) => isComment ? document.createComment(str) : document.createTextNode(str),\r\n  node: (selector, root = document.body) => document.querySelector(selector, root),\r\n  nodes: (selector, root = document.body) => document.querySelectorAll(selector, root),\r\n};\r\nconst addJQLStatics = $ => {\r\n  const virtual = html => $(html, document.createElement(\"br\"));\r\n  const setStyle = styleFactory( { createWithId: `JQLStylesheet` } );\r\n  const createStyle = id => styleFactory( { createWithId: id } );\r\n  const handle = HandleFactory($);\r\n  const delegate = (type, origin, ...handlers) => {\r\n    if (IS(origin, Function)) {\r\n      handlers.push(origin);\r\n      return handle(null, type, null, ...handlers);\r\n    }\r\n    return handle(null, type, origin, ...handlers);\r\n  };\r\n  const staticMethods = {\r\n    ...defaultStaticMethods,\r\n    setStyle,\r\n    createStyle,\r\n    virtual,\r\n    handle,\r\n    popup: () => popupFactory($),\r\n    delegate: (type, origin, ...handlers) => {\r\n      if (IS(origin, Function)) {\r\n        handlers.push(origin);\r\n        return handle(null, type, null, ...handlers);\r\n      }\r\n      return handle(null, type, origin, ...handlers);\r\n    },\r\n  };\r\n  Object.entries(staticMethods).forEach(([name, method]) => $[name] = method);\r\n  return $;\r\n};\r\n\r\nexport {\r\n  loop,\r\n  hex2RGBA,\r\n  isVisible,\r\n  addHandlerId,\r\n  isHtmlString,\r\n  isNode,\r\n  time,\r\n  toDashedNotation,\r\n  randomString,\r\n  isArrayOfHtmlStrings,\r\n  isArrayOfHtmlElements,\r\n  isCommentOrTextNode,\r\n  inject2DOMTree,\r\n  ElemArray2HtmlString,\r\n  input2Collection,\r\n  setCollectionFromCssSelector,\r\n  truncateHtmlStr,\r\n  truncate2SingleStr,\r\n  proxify,\r\n  addJQLStatics,\r\n  createElementFromHtmlString,\r\n  insertPositions,\r\n  systemLog,\r\n  IS,\r\n};\r\n", "/*\r\n  This is a classfree object oriented version of JQL (see https://github.com/KooiInc/JQL)\r\n  Inspired by Douglas Crockford (see https://youtu.be/XFTOG895C7c?t=2562)\r\n*/\r\n\r\nimport {\r\n  isHtmlString,\r\n  isArrayOfHtmlStrings,\r\n  isArrayOfHtmlElements,\r\n  inject2DOMTree,\r\n  ElemArray2HtmlString,\r\n  input2Collection,\r\n  setCollectionFromCssSelector,\r\n  truncateHtmlStr,\r\n  proxify,\r\n  addJQLStatics,\r\n  createElementFromHtmlString,\r\n  insertPositions,\r\n  systemLog,\r\n  IS,\r\n} from \"./src/JQLExtensionHelpers.js\";\r\n\r\nexport default addJQLStatics(JQLFactory());\r\n\r\nfunction JQLFactory() {\r\n  const logLineLength = 80;\r\n\r\n  return function(input, root = document.body, position = insertPositions.BeforeEnd) {\r\n    const isRawHtml = isHtmlString(input);\r\n    const isRawHtmlArray = isArrayOfHtmlStrings(input);\r\n    const shouldCreateElements = !IS(root, HTMLBRElement) && isRawHtmlArray || isRawHtml;\r\n    let instance = {\r\n      collection: input2Collection(input) ?? [],\r\n      isVirtual: IS(root, HTMLBRElement),\r\n      isJQL: true,\r\n      insertPositions, };\r\n\r\n    const isRawElemCollection = isArrayOfHtmlElements(instance.collection);\r\n\r\n    const logStr = (`(JQL log) raw input: [${\r\n      truncateHtmlStr(isRawHtmlArray\r\n        ? input.join(``)\r\n        : isRawElemCollection ? `Element(s): ${instance.collection.map(el => el.outerHTML || el.textContent).join(``)}`\r\n          : input, logLineLength)}]`);\r\n\r\n    if (instance.collection.length && isRawElemCollection) {\r\n      systemLog(logStr);\r\n      return proxify(instance);\r\n    }\r\n\r\n    if (shouldCreateElements) {\r\n      [input].flat().forEach(htmlFragment =>\r\n        instance.collection.push(createElementFromHtmlString(htmlFragment)));\r\n    }\r\n\r\n    if (shouldCreateElements && instance.collection.length > 0) {\r\n      const errors = instance.collection.filter( el => el.dataset?.jqlcreationerror );\r\n      instance.collection = instance.collection.filter(el => !el.dataset?.jqlcreationerror);\r\n\r\n      systemLog(`${logStr}\\n  Created ${instance.isVirtual ? ` VIRTUAL` : ``} (outerHTML truncated) [${\r\n        truncateHtmlStr(ElemArray2HtmlString(instance.collection) ||\r\n          \"sanitized: no elements remaining\", logLineLength)}]`);\r\n\r\n      if (errors.length) {\r\n        console.error(`JQL: illegal html, not rendered: \"${\r\n          errors.reduce( (acc, el) => acc.concat(`${el.textContent}\\n`), ``).trim()}\"` );\r\n      }\r\n\r\n      if (!instance.isVirtual) {\r\n        inject2DOMTree(instance.collection, root, position);\r\n      }\r\n\r\n      return proxify(instance);\r\n  }\r\n\r\n    const forLog = setCollectionFromCssSelector(input, root, instance);\r\n    systemLog(forLog);\r\n    return proxify(instance);\r\n  }\r\n}"],
  "mappings": "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",
  "names": ["allTags", "r", "HTMLTags_default", "elem", "nodeName", "tagName", "allowed", "ATTRS", "r", "logElementCreationErrors2Console", "attrRegExpStore", "logContingentErrors", "elCreationInfo", "logElementCreationErrors2Console", "msgs", "acc", "k", "v", "cleanupHtml", "elem", "template", "el2Clean", "child", "attrStore", "IS", "ATTRS", "attr", "name", "value", "evilValue", "evilAttrib", "truncate2SingleStr", "HTMLTags_default", "setTagPermission", "HTMLTags_default", "insertPositions", "placeholderNode", "htmlToVirtualElement", "htmlString", "cleanupHtml", "element2DOM", "elem", "root", "position", "IS", "createElementFromHtmlString", "htmlStr", "nwElem", "truncateHtmlStr", "empty", "el", "compareCaseInsensitive", "key", "compareTo", "setData", "keyValuePairs", "IS", "value", "css", "keyOrKvPairs", "setStyle", "JQLClassFree_default", "nwClass", "c", "randomString", "assignAttrValues", "v", "allMethods", "className", "hex2RGBA", "args", "name", "nwClassNames", "classNames", "cn", "keyOrObj", "self", "textValue", "append", "cb", "loop", "selector", "remover", "selectedElements", "property", "dataAttribute", "valueWhenFalsy", "checkValue", "firstElem", "isVisible", "oldChild", "newChild", "newValue", "elems2Append", "i", "elem", "createElementFromHtmlString", "isNode", "elems", "e2a", "elems2Prepend", "elem2Prepend", "self2AppendTo", "self2PrependTo", "indexOrSelector", "virtual", "nodeClone", "toDOM", "clonedCollection", "root", "position", "insertPositions", "inject2DOMTree", "asself", "found", "acc", "type", "callback", "cssSelector", "addHandlerId", "htmlValue", "nwElement", "forQuery", "htmlString", "el2Change", "callbacks", "evtType", "SpecifiedEvent", "options", "evObj", "JQLMethods_default", "logStyling", "r", "debugLog", "useLogging", "isVisible", "logBox", "log2Console", "createLogElement", "Log", "console", "reverse", "reverseLogging", "box", "logSystem", "useHtml", "setStyling4Log", "JQLClassFree_default", "jql_logger_element_name", "loggingFieldSet", "element2DOM", "createElementFromHtmlString", "insertPositions", "decodeForConsole", "something", "IS", "args", "logLine", "arg", "time", "setSystemLogActiveState", "tf", "systemLog", "logTxt", "setStyle", "selector", "Popup_default", "popupFactory", "popupStyling", "r", "$", "wrappedBody", "setStyle", "initStyling", "savedTimer", "savedCallback", "clickOrTouch", "remove", "stillOpen", "endTimer", "modalWarner", "currentModalState", "currentPopupIsModal", "tf", "popupBox", "createElements", "_", "closer", "between", "deActivate", "activate", "theBox", "closeHndl", "doCreate", "message", "reallyModal", "callback", "IS", "createTimed", "create", "closeAfter", "evtOrCallback", "time2Wait", "declaration", "handlers", "HandlerFactory_default", "$", "metaHandler", "evt", "handler", "createHandlerForHID", "HID", "callback", "target", "addListenerIfNotExisting", "type", "registeredType", "extCollection", "HIDselector", "fn", "LifeCSS_default", "LifeStyleFactory", "styleSheet", "createWithId", "cssRuleFromText", "checkAtRules", "toDashedNotation", "IS", "shortenRule", "consider", "ruleExists", "checkParams", "atMedia2String", "sheet", "getHelpers", "setRule4Selector", "rule", "properties", "prop", "value", "setRules", "selector", "styleRules", "sheetOrMediaRules", "exists", "rule4Selector", "doParse", "cssDeclarationString", "cssRules", "styleFromString", "checkAts", "styleFromObject", "rulesObj", "cssBlockOrSelector", "notification", "escape4RegExp", "str", "id", "createRE", "regexStr", "args", "flags", "a", "v", "i", "line", "ruleFragOrSelector", "isSelector", "r", "compareSelectors", "tryParse", "atRulesRE", "ISOneOf", "obj", "params", "param", "shouldBe", "invalid", "self", "acc", "key", "str2Convert", "s1", "s2", "shortRule", "err", "fn", "existing", "stringifyMediaRule", "mediaObj", "selectr", "exts", "JQLMethods_default", "loops", "pad0", "nr", "n", "ISOneOf", "obj", "params", "param", "IS", "shouldBe", "invalid", "self", "isCommentOrTextNode", "elem", "isNode", "input", "isHtmlString", "isArrayOfHtmlStrings", "s", "isArrayOfHtmlElements", "el", "ElemArray2HtmlString", "elems", "acc", "input2Collection", "setCollectionFromCssSelector", "root", "selectorRoot", "errorStr", "proxify", "instance", "runExt", "method", "args", "runLoop", "loop", "method2RunTrial", "name", "proxyMe", "randomString", "characters", "x", "i", "getCharacters", "excludes", "c", "random", "len", "chars", "charsWithoutNumbers", "loop", "instance", "callback", "cleanCollection", "el", "isCommentOrTextNode", "i", "inject2DOMTree", "collection", "root", "position", "insertPositions", "acc", "elem", "created", "isNode", "element2DOM", "addHandlerId", "handleId", "randomString", "isVisible", "elStyle", "computedStyle", "invisible", "noDisplay", "offscreen", "noOpacity", "truncateHtmlStr", "str", "maxLength", "truncate2SingleStr", "time", "d", "pad0", "hex2Full", "hex", "v", "hex2RGBA", "opacity", "op", "defaultStaticMethods", "debugLog", "Log", "setSystemLogActiveState", "insertPositions", "isComment", "selector", "root", "addJQLStatics", "$", "virtual", "html", "setStyle", "LifeCSS_default", "createStyle", "id", "handle", "HandlerFactory_default", "delegate", "type", "origin", "handlers", "IS", "staticMethods", "Popup_default", "name", "method", "JQLClassFree_default", "addJQLStatics", "JQLFactory", "input", "root", "position", "insertPositions", "isRawHtml", "isHtmlString", "isRawHtmlArray", "isArrayOfHtmlStrings", "shouldCreateElements", "IS", "instance", "input2Collection", "isRawElemCollection", "isArrayOfHtmlElements", "logStr", "truncateHtmlStr", "el", "systemLog", "proxify", "htmlFragment", "createElementFromHtmlString", "errors", "ElemArray2HtmlString", "acc", "inject2DOMTree", "forLog", "setCollectionFromCssSelector"]
}
